<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JavaScript事件类型 | Brandon&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="JavaScript使我们有能力创建动态页面。事件是可以被JavaScript 侦测到的行为。网页中的每个元素都可以产生某些可以触发JavaScript函数的事件。">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript事件类型">
<meta property="og:url" content="http://brandon.vc/2016/08/15/JavaScript事件类型/index.html">
<meta property="og:site_name" content="Brandon&#39;s blog">
<meta property="og:description" content="JavaScript使我们有能力创建动态页面。事件是可以被JavaScript 侦测到的行为。网页中的每个元素都可以产生某些可以触发JavaScript函数的事件。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-07-14T11:08:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript事件类型">
<meta name="twitter:description" content="JavaScript使我们有能力创建动态页面。事件是可以被JavaScript 侦测到的行为。网页中的每个元素都可以产生某些可以触发JavaScript函数的事件。">
  
    <link rel="alternate" href="/atom.xml" title="Brandon&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Brandon&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://brandon.vc"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-JavaScript事件类型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/15/JavaScript事件类型/" class="article-date">
  <time datetime="2016-08-15T07:14:03.000Z" itemprop="datePublished">2016-08-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript事件类型
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JavaScript使我们有能力创建动态页面。事件是可以被JavaScript 侦测到的行为。网页中的每个元素都可以产生某些可以触发JavaScript函数的事件。<br><a id="more"></a></p>
<h2 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h2><p>DOM3事件类型</p>
<ul>
<li>UI事件，当用户与页面上元素交互时触发</li>
<li>焦点事件</li>
<li>鼠标事件</li>
<li>滚轮事件</li>
<li>文本事件</li>
<li>键盘事件</li>
<li>合成事件，当为IME（输入法编辑器）输入字符时触发</li>
<li>变动事件，当DOM结构发生变化时触发</li>
</ul>
<h2 id="UI事件"><a href="#UI事件" class="headerlink" title="UI事件"></a>UI事件</h2><ul>
<li><em>DOMActivate | 表示元素已经被用户操作激活（不建议使用）</em></li>
<li>load | 页面加载完成后在window上触发，图像加载完毕时在img上触发</li>
<li>unload | 页面完全卸载后在window上触发</li>
<li>abort | 用户停止下载过程时，如果嵌入的没有加载完，在object上触发</li>
<li>error | 当JavaScript错误时在window上触发</li>
<li>select | 当用户现在文本框中的一个或多个字符时触发</li>
<li>resize | 当窗口或框架的大小发生改变时在window或框架上触发</li>
<li>scroll | 用户滚动带滚动条的元素，在元素上触发</li>
</ul>
<h3 id="load事件"><a href="#load事件" class="headerlink" title="load事件"></a>load事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">"load"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    alert(<span class="string">"Loaded!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>图像上也可以触发load事件</p>
</blockquote>
<h3 id="unload事件"><a href="#unload事件" class="headerlink" title="unload事件"></a>unload事件</h3><p>一般是清除引用，避免内存泄漏</p>
<h3 id="resize事件"><a href="#resize事件" class="headerlink" title="resize事件"></a>resize事件</h3><p>浏览器窗口最大最小化也会触发resize事件</p>
<h3 id="scroll事件"><a href="#scroll事件" class="headerlink" title="scroll事件"></a>scroll事件</h3><p>在文档被滚动期间重复调用，尽量保持代码简洁</p>
<h2 id="焦点事件"><a href="#焦点事件" class="headerlink" title="焦点事件"></a>焦点事件</h2><p>焦点事件类型：</p>
<ul>
<li>blur | 失去焦点（不会冒泡）</li>
<li>focus | 获得焦点（不会冒泡）</li>
<li>focusin | 获得焦点（冒泡）</li>
<li>focusout | 失去焦点（冒泡）</li>
</ul>
<h2 id="鼠标与滚轮事件"><a href="#鼠标与滚轮事件" class="headerlink" title="鼠标与滚轮事件"></a>鼠标与滚轮事件</h2><p>鼠标事件的类型</p>
<ul>
<li>click | 单击事件</li>
<li>dblclick | 双击事件</li>
<li>mousedown | 按下鼠标任意按钮</li>
<li>mouseenter | 鼠标移入（不冒泡）</li>
<li>mouseleave | 鼠标移出（不冒泡）</li>
<li>mousemove | 鼠标移动</li>
<li>mouseout | 鼠标移入另一个元素</li>
<li>mouseover | 鼠标路过</li>
<li>mouseup | 鼠标按钮释放</li>
</ul>
<p>客户区坐标位置，指鼠标相对页面左上角的位置</p>
<blockquote>
<p>事件对象的clientX属性</p>
<p>事件对象的clientY属性</p>
</blockquote>
<p>页面坐标位置，指鼠标相对页面的位置</p>
<blockquote>
<p>事件对象的pageX属性</p>
<p>事件对象的pageY属性</p>
</blockquote>
<p>屏幕坐标位置</p>
<blockquote>
<p>事件对象的screenX属性</p>
<p>事件对象的screenY属性</p>
</blockquote>
<p>修改建，event的几个键盘属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</div><div class="line">EventUtil.addHandler(div, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    event = EventUtil.getEvent(event);</div><div class="line">    <span class="keyword">var</span> keys = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">    <span class="keyword">if</span> (event.shiftKey) &#123;</div><div class="line">        keys.push(<span class="string">"shift"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (event.ctrlKey) &#123;</div><div class="line">        keys.push(<span class="string">"ctrl"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (event.altKey) &#123;</div><div class="line">        keys.push(<span class="string">"alt"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (event.metaKey) &#123;  <span class="comment">//win下是win键，mac下是cmd键</span></div><div class="line">        keys.push(<span class="string">"meta"</span>);</div><div class="line">    &#125;</div><div class="line">    alert(<span class="string">"keys: "</span> + keys.join(<span class="string">","</span>));</div><div class="line">    </div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="鼠标按钮"><a href="#鼠标按钮" class="headerlink" title="鼠标按钮"></a>鼠标按钮</h3><p>对于mousedown和mouseup事件来说，event对象中还是一个button属性<br>0表示主鼠标按钮，1表示鼠标滚轮，3表示次鼠标按钮</p>
<h3 id="鼠标滚轮事件"><a href="#鼠标滚轮事件" class="headerlink" title="鼠标滚轮事件"></a>鼠标滚轮事件</h3><h2 id="触摸设备"><a href="#触摸设备" class="headerlink" title="触摸设备"></a>触摸设备</h2><ul>
<li>不支持dblclick事件</li>
<li>单击会触发mousemove事件，如果此操作导致内容变化，将不再有其他事件；如果没有变化，则依次发生mousedown、mouseup和click事件</li>
<li>mousemove事件也会触发mouseover和mouseout</li>
<li>两个手指放在屏幕上，且页面随手指移动，会触发mousewheel和scroll事件</li>
</ul>
<h2 id="无障碍阅读"><a href="#无障碍阅读" class="headerlink" title="无障碍阅读"></a>无障碍阅读</h2><p>使用click事件执行代码</p>
<h2 id="键盘和文本事件"><a href="#键盘和文本事件" class="headerlink" title="键盘和文本事件"></a>键盘和文本事件</h2><ul>
<li>keydown | 按下任意键</li>
<li>keypress | 按下字符键</li>
<li>keyup | 释放按键</li>
</ul>
<p>键盘事件对象也有shiftKey、ctrlKey、altKey和metaKey属性（IE不支持metaKey）</p>
<h3 id="键码"><a href="#键码" class="headerlink" title="键码"></a>键码</h3><p>keydown和keyup事件时，event对象的keyCode属性会包含一个按键代码<br>与ASCII码中对应的小写字母或数字编码相同</p>
<h3 id="DOM3变化"><a href="#DOM3变化" class="headerlink" title="DOM3变化"></a>DOM3变化</h3><p>不包含charCode，增加key和char<br>key取代keyCode，值是字符串（”key”、”M”、”Shift”）<br>不推荐使用</p>
<h3 id="textInput事件"><a href="#textInput事件" class="headerlink" title="textInput事件"></a>textInput事件</h3><p>任何获取焦点的元素任意按键都可以触发keypress事件，但只有可编辑区域字符按键才能触发textInput事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> textbox = <span class="built_in">document</span>.getElementById(<span class="string">"myText"</span>);</div><div class="line">EventUtil.addHandler(textbox, <span class="string">"textInput"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">    event = EventUtil.getEvent(event);</div><div class="line">    alert(event.data);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>event对象有一个inputMethod属性（仅IE支持），表示文本的输入方式</p>
<ul>
<li>0，浏览器不确定如何输入</li>
<li>1，键盘输入</li>
<li>2，粘贴</li>
<li>3，拖放</li>
<li>4，IME输入</li>
<li>5，表单张的选择输入</li>
<li>6，手写输入</li>
<li>7，语言输入</li>
<li>8，几种方式组合输入</li>
<li>9，脚本输入</li>
</ul>
<h2 id="变动事件"><a href="#变动事件" class="headerlink" title="变动事件"></a>变动事件</h2><p>DOM中某一部分发生变化时触发的事件</p>
<h3 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h3><p>使用<code>removeChild()</code>或<code>replaceChild()</code>从DOM树中删除节点时，<br>首先触发<code>DOMNodeRemoved</code>事件，<br>然后再被移除的节点及子节点上触发<code>DOMNodeRemovedFromDocument</code>事件（该事件不冒泡），<br>之后在父节点上触发<code>DOMSubtreeModified</code>事件</p>
<h3 id="插入节点"><a href="#插入节点" class="headerlink" title="插入节点"></a>插入节点</h3><p>使用<code>appendChild()</code>或<code>replaceChild()</code>或<code>insertBefore()</code>向DOM树插入节点时，<br>首先触发<code>DOMNodeInserted</code>事件，<br>然后再新插入的节点上触发<code>DOMNodeInsertedIntoDocument</code>事件（该事件不冒泡），<br>在新插入节点的父节点上触发<code>DOMSubtreeModified</code>事件</p>
<h2 id="HTML5事件"><a href="#HTML5事件" class="headerlink" title="HTML5事件"></a>HTML5事件</h2><h3 id="contextmenu事件"><a href="#contextmenu事件" class="headerlink" title="contextmenu事件"></a>contextmenu事件</h3><p>主要用于web自定义上下文菜单</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiv"</span>&gt;</span>Right click ro Ctrl+click me to get a custom context menu.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"myMenu"</span> <span class="attr">style</span>=<span class="string">"position: absolute;visibility: hidden;background-color: silver"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.nczonline.net"</span>&gt;</span>Nicholas' site<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.wrox.com"</span>&gt;</span>Wrox site<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.yahoo.com"</span>&gt;</span>Yahoo!<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">EventUtil.addHandler(<span class="built_in">window</span>,<span class="string">"load"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</div><div class="line">    EventUtil.addHandler(div,<span class="string">"contextmenu"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">        event = EventUtil.getEvent(event);</div><div class="line">        EventUtil.preventDefault(event);</div><div class="line">        <span class="keyword">var</span> menu = <span class="built_in">document</span>.getElementById(<span class="string">"myMenu"</span>);</div><div class="line">        menu.style.left = event.clientX + <span class="string">"px"</span>;</div><div class="line">        menu.style.top = event.clientY + <span class="string">"px"</span>;</div><div class="line">        menu.style.visibility = <span class="string">"visible"</span>;</div><div class="line">    &#125;);</div><div class="line">    EventUtil.addHandler(<span class="built_in">document</span>.<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"myMenu"</span>).style.visibility = <span class="string">"hidden"</span>;</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="beforeunload事件"><a href="#beforeunload事件" class="headerlink" title="beforeunload事件"></a>beforeunload事件</h3><p>浏览器页面卸载之前触发，用来提示用户是否真的卸载</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">EventUtil.addHandler(<span class="built_in">window</span>,<span class="string">"beforeunload"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    event = EventUtil.getEvent(event);</div><div class="line">    <span class="keyword">var</span> message = <span class="string">"I'm really going to miss you if you go."</span></div><div class="line">    event.returnValue = message;  <span class="comment">//IE和Firefox</span></div><div class="line">    <span class="keyword">return</span> message;  <span class="comment">//Safari和Chrome</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="DOMContentLoaded事件"><a href="#DOMContentLoaded事件" class="headerlink" title="DOMContentLoaded事件"></a>DOMContentLoaded事件</h3><p>形成完整DOM树之后触发（load则是加载完所有外部资源后触发）<br>（可以为document或window对象绑定该事件）</p>
<h3 id="pageshow和pagehide事件"><a href="#pageshow和pagehide事件" class="headerlink" title="pageshow和pagehide事件"></a>pageshow和pagehide事件</h3><ul>
<li>pageshow事件</li>
</ul>
<p>页面显示时触发，无论是否已经在内存中<br><strong>必须将事件绑定在window上</strong><br>该事件的event对象有一个persisted属性，true表示来自内存，false表示来自网络</p>
<ul>
<li>pagehide事件</li>
</ul>
<p>页面卸载时触发，在unload事件之前<br><strong>必须将事件绑定在window上</strong></p>
<ul>
<li>hashchange事件</li>
</ul>
<p>URL的参数列表（#后面的所有字符）发生变化时触发<br><strong>必须将该事件绑定在window上</strong><br>该事件的event对象有两个属性：<code>oldURL</code>和<code>newURL</code>,保存着完整URL（Firefox6+、Chrome、Opera支持）。所以最好使用<code>location.hash</code>来确定当前的参数列表</p>
<h2 id="设备事件"><a href="#设备事件" class="headerlink" title="设备事件"></a>设备事件</h2><h3 id="orientationchange事件"><a href="#orientationchange事件" class="headerlink" title="orientationchange事件"></a>orientationchange事件</h3><p>移动版Safari支持</p>
<p>有一个<code>window.orientation</code>属性：0表示肖像模式，90表示左旋转，-90表示右旋转</p>
<h3 id="MozOrientation事件"><a href="#MozOrientation事件" class="headerlink" title="MozOrientation事件"></a>MozOrientation事件</h3><h3 id="deviceorientation事件"><a href="#deviceorientation事件" class="headerlink" title="deviceorientation事件"></a>deviceorientation事件</h3><h3 id="devicemotion事件"><a href="#devicemotion事件" class="headerlink" title="devicemotion事件"></a>devicemotion事件</h3><h2 id="触摸与手势事件"><a href="#触摸与手势事件" class="headerlink" title="触摸与手势事件"></a>触摸与手势事件</h2><h3 id="触摸事件"><a href="#触摸事件" class="headerlink" title="触摸事件"></a>触摸事件</h3><ul>
<li>touchstart事件 | 手指触摸屏幕时触发 | 即使已经有手指在屏幕上也会触发</li>
<li>touchmove事件 | 手指滑动时触发 | 可以调用preventDefault()阻止滚动</li>
<li>touchend事件 | 手指移开时触发</li>
<li>touchcancel事件 | 停止跟踪触摸时触发</li>
</ul>
<p>触摸事件的属性</p>
<ul>
<li>touches | 表示当前跟踪的触摸操作的Touch对象的数组</li>
<li>targetTouchs | 特定于事件目标的Touch对象的数组</li>
<li>changeTouches | 表示自上次触摸以来发生了什么改变的Touch对象的数组</li>
</ul>
<p>每个Touch对象的属性</p>
<ul>
<li>clientX：视口中的X坐标</li>
<li>clientY：视口中的Y坐标</li>
<li>identifier：标识触摸的唯一ID</li>
<li>pageX：页面中的X坐标</li>
<li>pageY：页面中的Y坐标</li>
<li>screenX：屏幕的X坐标</li>
<li>screenY：屏幕的Y坐标</li>
<li>target：触摸的DOM节点目标</li>
</ul>
<h3 id="手势事件"><a href="#手势事件" class="headerlink" title="手势事件"></a>手势事件</h3><h2 id="内存和性能"><a href="#内存和性能" class="headerlink" title="内存和性能"></a>内存和性能</h2><h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p>利用事件冒泡，指定一个事件处理程序管理同一类型事件<br>适合委托的事件：click、mousedown、mouseup、keydown、keyup、keypress</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementById(<span class="string">"myLinks"</span>);</div><div class="line">EventUtil.addHandler(list, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    event = EventUtil.getEvent(event);</div><div class="line">    <span class="keyword">var</span> target = EventUtil.getTarget(event);</div><div class="line">    <span class="keyword">switch</span>(target.id)&#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">"doSomething"</span>:</div><div class="line">            <span class="built_in">document</span>.title = <span class="string">"I changed the document's title"</span>;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">"goSomewhere"</span>:</div><div class="line">            location.href = <span class="string">"http://www.wrox.com"</span>;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">"sayHi"</span>:</div><div class="line">            alert(<span class="string">"hi"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="移除事件处理程序"><a href="#移除事件处理程序" class="headerlink" title="移除事件处理程序"></a>移除事件处理程序</h3><p>在文档中移除带有事件处理程序的时候，先移除事件处理程序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">btn.onclick = <span class="literal">null</span>;</div></pre></td></tr></table></figure>
<h2 id="模拟事件"><a href="#模拟事件" class="headerlink" title="模拟事件"></a>模拟事件</h2><h3 id="DOM事件模拟"><a href="#DOM事件模拟" class="headerlink" title="DOM事件模拟"></a>DOM事件模拟</h3><p>document对象上使用<code>createEvent()</code>方法创建event对象。接收一个参数：</p>
<ul>
<li>UIEvents：一般的UI事件（DOM3中是UIEvent）</li>
<li>MouseEvents：鼠标事件（DOM3中是MouseEvent）</li>
<li>MutationEvents：DOM变动事件（DOM3中是MutationEvent）</li>
<li>HTMLEvents：HTML事件（没有对应的DOM3事件）</li>
</ul>
<p>通过DOM节点调用<code>dispatchEvent()</code>方法，传入event对象，可以出发对应的事件</p>
<h3 id="模拟鼠标事件"><a href="#模拟鼠标事件" class="headerlink" title="模拟鼠标事件"></a>模拟鼠标事件</h3><p>为<code>createEvent()</code>传入字符串<code>MouseEvents</code>，返回的对象有一个<code>initMouseEvent()</code>方法，用于指定与该鼠标事件有关的信息</p>
<ul>
<li>type | 字符串 | 要触发事件的类型“click”</li>
<li>bubbles | 布尔值 | 事件是否冒泡（精准模拟鼠标则设置为true）</li>
<li>cancelable | 布尔值 | 事件是否可以取消（精准模拟鼠标则设置为true）</li>
<li>view | 与事件有关的视图 | 一般都是document.defaultView</li>
<li>detail | 整数 | 一般都是0、</li>
<li>screenX | 整数 | 屏幕的X坐标</li>
<li>screenY | 整数 | 屏幕的Y坐标</li>
<li>clientX | 整数 | 视口的X坐标</li>
<li>clientY | 整数 | 视口的Y坐标</li>
<li>ctrlKey | 布尔值 | 是否按下Ctrl键</li>
<li>altKey | 布尔值 | 是否按下Alt键</li>
<li>shiftKey | 布尔值 | 是否按下Shift键</li>
<li>metaKey | 布尔值 | 是否按下Meta键</li>
<li>button | 整数 | 鼠标的哪一个键（默认0）</li>
<li>relatedTarget | 对象 | 事件相关的对象（模拟mouseover或mouseout时使用）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"myBtn"</span>);</div><div class="line"><span class="keyword">var</span> event = <span class="built_in">document</span>.createEvent(<span class="string">"MouseEvents"</span>);</div><div class="line">event.initMouseEvent(<span class="string">"click"</span>, <span class="literal">true</span> , <span class="literal">true</span> , <span class="built_in">document</span>.defaultView, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="number">0</span>, <span class="literal">null</span>);</div><div class="line">btn.dispatchEvent(event);</div></pre></td></tr></table></figure>
<h3 id="模拟键盘事件"><a href="#模拟键盘事件" class="headerlink" title="模拟键盘事件"></a>模拟键盘事件</h3><p>为<code>createEvent()</code>传入字符串<code>KeyboardEvents</code>，返回的对象有一个<code>initKeyEvent()</code>方法，用于指定与该鼠标事件有关的信息</p>
<ul>
<li>type | 字符串 | 要触发事件的类型“keydown”</li>
<li>bubbles | 布尔值 | 事件是否冒泡（精准模拟鼠标则设置为true）</li>
<li>cancelable | 布尔值 | 事件是否可以取消（精准模拟鼠标则设置为true）</li>
<li>view | 与事件有关的视图 | 一般都是document.defaultView</li>
<li>key | 布尔值 | 按下键的代码</li>
<li>location | 整数 | 0主键盘，1表示左，2表示右，3表示数字键盘，4表示移动设备，5表示手柄</li>
<li>modifiers | 字符串 | 空格分割的修改键列表 如“shift”</li>
<li>repeat | 整数 | 一行中按了这个键多少次</li>
</ul>
<p>DOM中不推荐使用keypress事件，因此使用这个来模拟keydown和keyup</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">var</span> textbox = <span class="built_in">document</span>.getElementById(<span class="string">"myTextbox"</span>),</div><div class="line">    event;</div><div class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.implementation.hasFeature(<span class="string">"KeyboardEvents"</span>, <span class="string">"3.0"</span>)) &#123;</div><div class="line">    event = <span class="built_in">document</span>.createEvent(<span class="string">"KeyboardEvent"</span>);</div><div class="line">    event.initKeyboardEvent(<span class="string">"keydown"</span>, <span class="literal">true</span>, <span class="literal">true</span>, <span class="built_in">document</span>.defaultView, <span class="string">"a"</span>, <span class="number">0</span>, <span class="string">"shift"</span>, <span class="number">0</span>);</div><div class="line">&#125;</div><div class="line">textbox.dispatchEvent(event);</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://brandon.vc/2016/08/15/JavaScript事件类型/" data-id="cj7rq4tv9000ppku2l1dhn7sb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/08/15/JavaScript事件流及事件对象/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JavaScript事件流及事件对象
        
      </div>
    </a>
  
  
    <a href="/2016/08/03/JavaScript与XML/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">JavaScript与XML</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript扩展/">JavaScript扩展</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript框架/">JavaScript框架</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/移动开发/">移动开发</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bootstrap/">Bootstrap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/">Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/responsive/">responsive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tip/">tip</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Bootstrap/" style="font-size: 10px;">Bootstrap</a> <a href="/tags/CSS/" style="font-size: 18px;">CSS</a> <a href="/tags/Canvas/" style="font-size: 10px;">Canvas</a> <a href="/tags/HTML/" style="font-size: 16px;">HTML</a> <a href="/tags/JSON/" style="font-size: 10px;">JSON</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/jQuery/" style="font-size: 12px;">jQuery</a> <a href="/tags/mobile/" style="font-size: 14px;">mobile</a> <a href="/tags/responsive/" style="font-size: 14px;">responsive</a> <a href="/tags/tip/" style="font-size: 10px;">tip</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/05/15/jQuery 插件封装的方法/">jQuery 插件封装的方法</a>
          </li>
        
          <li>
            <a href="/2017/05/05/原生js获取鼠标坐标方法/">原生js获取鼠标坐标方法</a>
          </li>
        
          <li>
            <a href="/2017/04/02/TypeScript入门/">TypeScript入门</a>
          </li>
        
          <li>
            <a href="/2017/03/14/Git基础/">Git基础</a>
          </li>
        
          <li>
            <a href="/2017/03/10/Webpack基础/">Webpack基础</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Brandon<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>